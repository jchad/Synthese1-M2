<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>gKit2 light: prototyper un shader program</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">gKit2 light
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">prototyper un shader program</div>  </div>
</div><!--header-->
<div class="contents">
<p>autre solution, <a class="el" href="shader__kit_8cpp.html">shader_kit.cpp</a> peut être utilisé comme compilateur de shader, il affiche les erreurs sous cette forme un peu plus lisible, et permet de recharger et de recompiler le shader en appuyant sur la touche R. ça permet de corriger interactivement le source du shader en le modifiant dans un éditeur.</p>
<p>shader_kit est un 'bac à sable' permettant d'écrire et de tester des shaders assez facilement. il permet aussi de charger un objet .obj, des textures et permet de déplacer la camera à la souris.</p>
<p>comme il n'est pas possible d'écrire une solution totalement générique, shader_kit à des limites :</p><ul>
<li>1 seul shader program, écrit dans un seul fichier .glsl, avec les #ifdef VERTEX_SHADER, etc, voir plus haut,</li>
<li>il n'est pas obligatoire de charger un objet, dans ce cas, il fonctionne comme <a href="https://www.shadertoy.com/">shadertoy.com</a>,</li>
<li>charge 1 seul objet,</li>
<li>plusieurs textures 2d rgba8, jusqu'à la limite d'openGL, 16 ou 32 selon les machines :<ul>
<li>uniform sampler2D texture0;</li>
<li>uniform sampler2D texture1; etc, en fonction du nombre d'images chargées,</li>
</ul>
</li>
</ul>
<p>il définit également les valeurs de plusieurs uniforms :</p><ul>
<li>uniform float time; le temps en milli secondes,</li>
<li>uniform <a class="el" href="structvec3.html" title="vecteur generique, utilitaire.">vec3</a> mouse; la position x, y de la souris dans la fenêtre, et l'état du bouton gauche, mouse.z (!= 0 enfoncé, == 0 pas enfoncé),</li>
<li>uniform <a class="el" href="structvec3.html" title="vecteur generique, utilitaire.">vec3</a> motion; le déplacement x, y de la souris, et l'état du bouton gauche, motion.z (!= 0 enfoncé, == 0 pas enfoncé),</li>
<li>uniform <a class="el" href="structvec2.html" title="vecteur generique, utilitaire.">vec2</a> viewport; les dimensions de l'image / de la fenêtre,</li>
<li>ainsi que les transformations standards et leurs inverses :<ul>
<li>uniform mat4 mvpMatrix, mvpInvMatrix; la transformation standard pour passer du repère local au repère projectif,</li>
<li>uniform mat4 mvMatrix, mvInvMatrix; la composition de model et view, repère local vers le repère caméra,</li>
<li>uniform mat4 normalMatrix; même transformation que mv, mais pour les normales des sommets,</li>
<li>uniform mat4 modelMatrix, modelInvMatrix;</li>
<li>uniform mat4 viewMatrix, viewInvMatrix;</li>
<li>uniform mat4 projectionMatrix, projectionInvMatrix;</li>
<li>uniform mat4 viewportMatrix, viewportInvMatrix;</li>
</ul>
</li>
</ul>
<p>malgré ces limites, on peut écrire des choses interressantes :</p><ul>
<li>un shader qui éclaire un objet texturé : <div class="image">
<img src="mesh_kit.png" alt=""/>
</div>
</li>
<li>un lancer de rayons classique : <div class="image">
<img src="trace_kit.png" alt=""/>
</div>
</li>
<li>un lancer de rayons sur champ de distance : <div class="image">
<img src="march_kit.png" alt=""/>
</div>
 </li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Sep 9 2019 15:39:11 for gKit2 light by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.16
</small></address>
</body>
</html>
